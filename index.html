<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üåπ</text></svg>">
<title>Happy Birthday Divya üíñ‚ú®</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
/* -------------------------------------------------------
   GLOBAL STYLES
--------------------------------------------------------*/
*{margin:0;padding:0;box-sizing:border-box;}
html,body{width:100%;height:100%;-webkit-text-size-adjust:100%;}
body{
  font-family:'Poppins',sans-serif;
  background:#0a0015;
  overflow-x:hidden;
  color:white;
  position:relative;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  touch-action:manipulation;
}

/* Reduce motion for users who prefer it */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}

/* Romantic floating gradient */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    linear-gradient(135deg, #1a0028 0%, #2d0a3f 25%, #4a1458 50%, #2d0a3f 75%, #1a0028 100%);
  animation:bgShift 25s linear infinite;
  z-index:-2;
  background-size: 300% 300%;
}

@keyframes bgShift{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* Floating hearts background container */
.bg-hearts{
  position:fixed;
  inset:0;
  overflow:hidden;
  z-index:-1;
  pointer-events:none;
}

/* simplified, low-cost floating hearts */
.floating-heart{
  position:absolute;
  font-size:22px;
  opacity:0.12;
  will-change: transform, opacity;
  animation:floatHeart 10s linear infinite;
}
@keyframes floatHeart{
  0%{transform:translateY(110vh) rotate(0deg) scale(0.6);opacity:0;}
  10%{opacity:0.12;}
  90%{opacity:0.12;}
  100%{transform:translateY(-50px) rotate(360deg) scale(1);opacity:0;}
}

/* Sparkle effect (subtle & light) */
.sparkle{
  position:fixed;
  width:3px;
  height:3px;
  background:white;
  border-radius:50%;
  pointer-events:none;
  animation:sparkleAnim 2.2s ease-in-out infinite;
  z-index:1;
}
@keyframes sparkleAnim{
  0%,100%{opacity:0;transform:scale(0);}
  50%{opacity:1;transform:scale(1);}
}

.wrap{max-width:1100px;margin:16px auto;padding:16px;}
header{text-align:center;margin-bottom:18px;}
h1{
  font-family:'Pacifico',cursive;
  font-size:40px;
  color:#ffc4e8;
  text-shadow:0 0 18px rgba(255,120,200,0.8), 0 0 36px rgba(255,120,200,0.4);
  margin-bottom:8px;
  animation:titleGlow 4s ease-in-out infinite;
}
@keyframes titleGlow{
  0%,100%{text-shadow:0 0 18px rgba(255,120,200,0.8),0 0 36px rgba(255,120,200,0.4);}
  50%{text-shadow:0 0 28px rgba(255,120,200,1),0 0 56px rgba(255,120,200,0.6);}
}
.lead{ color:#ffb3e0; font-size:15px; font-weight:300; }

/* -------------------------------------------------------
   MAGIC STAGE
--------------------------------------------------------*/
.stage{
  position:relative;
  height:420px;
  background:linear-gradient(135deg, rgba(138,43,226,0.06) 0%, rgba(255,105,180,0.05) 100%);
  border-radius:22px;
  box-shadow:0 18px 50px rgba(255,105,180,0.22), inset 0 0 30px rgba(255,255,255,0.03);
  overflow:hidden;
  margin-top:16px;
  border:1px solid rgba(255,182,193,0.22);
  -webkit-tap-highlight-color: transparent;
}

/* butterflies (low cost) */
.butterfly{
  position:absolute;
  font-size:36px;
  animation:fly 9s ease-in-out infinite;
  filter:drop-shadow(0 0 8px rgba(255,182,193,0.45));
  will-change: transform;
}
@keyframes fly{
  0%{transform:translateY(0) translateX(0) rotate(0deg);}
  25%{transform:translateY(-60px) translateX(30px) rotate(6deg);}
  50%{transform:translateY(-100px) translateX(60px) rotate(-6deg);}
  75%{transform:translateY(-50px) translateX(100px) rotate(6deg);}
  100%{transform:translateY(0) translateX(140px) rotate(0deg);}
}

/* petals (fewer, GPU-friendly) */
.petal{
  position:absolute;
  font-size:22px;
  animation:petalFall 6.5s linear forwards;
  filter:drop-shadow(0 0 6px rgba(255,182,193,0.5));
  will-change: transform, opacity;
}
@keyframes petalFall{
  0%{transform:translateY(0) rotate(0);opacity:1;}
  100%{transform:translateY(380px) rotate(180deg);opacity:0;}
}

/* Big heart button */
.bigHeart{
  width:150px;height:150px;
  background:linear-gradient(135deg,#ff1493,#ff69b4,#ff1493);
  background-size:200% 200%;
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:72px;
  position:absolute;left:50%;top:50%;
  transform:translate(-50%,-50%);
  cursor:pointer;
  animation:pulseHeart 2.2s infinite, gradientMove 3.5s ease infinite;
  box-shadow:0 18px 50px rgba(255,20,147,0.35), 0 0 30px rgba(255,105,180,0.3);
  z-index:5;
  border:3px solid rgba(255,255,255,0.18);
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}
@keyframes pulseHeart{
  0%{transform:translate(-50%,-50%) scale(1);}
  50%{transform:translate(-50%,-50%) scale(1.12);}
  100%{transform:translate(-50%,-50%) scale(1);}
}
@keyframes gradientMove{
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* ring animation element (created on click) */
.ring{
  position:absolute;
  left:50%;top:50%;
  width:40px;height:40px;
  border:4px solid #ffc4e8;
  border-radius:50%;
  transform:translate(-50%,-50%) scale(0);
  opacity:0;
  box-shadow:0 0 20px rgba(255,196,232,0.6);
  will-change: transform, opacity;
}

/* cake */
.cake{
  position:absolute;
  font-size:120px;
  left:50%;top:150%;
  transform:translateX(-50%);
  opacity:0;
  transition:700ms cubic-bezier(.2,.9,.2,1);
  z-index:5;
  filter:drop-shadow(0 10px 22px rgba(255,105,180,0.45));
}

/* balloon (reduced size and duration) */
.balloon{
  position:absolute;
  font-size:60px;
  bottom:-120px;
  animation:balloonRise 6.8s linear forwards;
  filter:drop-shadow(0 5px 10px rgba(255,105,180,0.32));
  will-change: transform, opacity;
}
@keyframes balloonRise{
  0%{transform:translateY(0) scale(0.9);opacity:0;}
  20%{opacity:1;}
  100%{transform:translateY(-820px) scale(1.03);opacity:0;}
}

/* confetti (simple) */
.confetti{
  position:absolute;
  width:10px;height:12px;
  background:var(--c);
  animation:confFall 4.2s linear forwards;
  border-radius:2px;
  will-change: transform, opacity;
}
@keyframes confFall{
  0%{transform:translateY(0) rotate(0);opacity:1;}
  100%{transform:translateY(420px) rotate(180deg);opacity:0;}
}

/* -------------------------------------------------------
   GALLERY
--------------------------------------------------------*/
.gallery{
  margin-top:28px;
  display:grid;
  grid-template-columns:repeat(auto-fit, minmax(260px, 1fr));
  gap:18px;
}
.card{
  border-radius:14px;
  overflow:hidden;
  box-shadow:0 12px 30px rgba(255,105,180,0.22);
  cursor:pointer;
  transition:transform 220ms ease, box-shadow 220ms ease;
  position:relative;
  background:linear-gradient(135deg, rgba(138,43,226,0.04), rgba(255,105,180,0.04));
  border:2px solid rgba(255,182,193,0.16);
  will-change: transform;
}
.card:hover{ transform:translateY(-6px); box-shadow:0 18px 40px rgba(255,105,180,0.28); }
.card img{ width:100%; height:240px; object-fit:cover; display:block; }
.big{ grid-column:span 2; }
.big img{ height:320px; }

/* -------------------------------------------------------
   MESSAGE HEART
--------------------------------------------------------*/
.msgHeart{
  margin:32px auto;
  width:82px;height:82px;
  background:linear-gradient(135deg,#ff1493,#ff69b4);
  border-radius:50%;
  display:flex;align-items:center;justify-content:center;
  font-size:40px;
  cursor:pointer;
  animation:pulse2 2.4s infinite;
  box-shadow:0 12px 32px rgba(255,20,147,0.32);
  border:3px solid rgba(255,255,255,0.18);
}
@keyframes pulse2{
  0%{transform:scale(1);} 50%{transform:scale(1.08);} 100%{transform:scale(1);}
}
.msgCard{
  position:fixed;
  bottom:-100%;
  left:0;right:0;
  background:linear-gradient(135deg, rgba(138,43,226,0.95), rgba(255,105,180,0.95));
  backdrop-filter:blur(10px);
  padding:26px;
  border-radius:18px 18px 0 0;
  color:#fff;
  box-shadow:0 -12px 34px rgba(0,0,0,0.45);
  transition:520ms cubic-bezier(.2,.9,.2,1);
  font-size:15px; line-height:1.6;
  border-top:3px solid rgba(255,255,255,0.16);
  z-index:999;
  visibility:hidden;
}
.msgCard.show{ bottom:0; visibility:visible; }
.closeMsg{ text-align:right; font-size:26px; cursor:pointer; margin-bottom:10px; color:#fff; opacity:0.95; }

/* Fullscreen viewer */
#fs{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.92);
  align-items:center;
  justify-content:center;
  z-index:1000;
  backdrop-filter:blur(8px);
}
#fs img{ max-width:94vw; max-height:84vh; border-radius:12px; box-shadow:0 18px 50px rgba(255,105,180,0.32); border:3px solid rgba(255,182,193,0.18); }
.fsClose{ position:absolute; top:18px; right:18px; font-size:36px; color:#ffc4e8; cursor:pointer; z-index:1001; text-shadow:0 0 8px rgba(255,105,180,0.8); transition:transform 120ms; }
.fsClose:active{ transform:scale(0.95) rotate(10deg); }

/* Responsive */
@media(max-width:768px){
  h1{font-size:30px;}
  .gallery{grid-template-columns:1fr;}
  .big{grid-column:span:1;}
  .card img, .big img{height:220px;}
  .stage{height:360px;}
  .bigHeart{ width:120px; height:120px; font-size:56px; }
  .cake{ font-size:96px; }
  .butterfly{ font-size:28px; }
  .balloon{ font-size:50px; }
  .floating-heart{ font-size:18px; }
}

/* Extra mobile tweaks for very small screens */
@media(max-width:420px){
  .wrap{padding:10px;}
  .bigHeart{ width:110px; height:110px; font-size:48px; }
  .cake{ font-size:84px; }
  .lead{ font-size:14px; }
}

/* Prevent tap highlight */
* { -webkit-tap-highlight-color: transparent; }
</style>
</head>

<body>
<!-- Floating hearts background -->
<div class="bg-hearts" id="bgHearts"></div>

<div class="wrap">
<header>
  <h1>Happy Birthday Divya üéÄ‚ú®</h1>
  <p class="lead">‚ú® Tap the big heart for a magical surprise ‚ú®</p>
</header>

<!-- TOP MAGIC STAGE -->
<div class="stage" id="stage" aria-hidden="false">
  <div class="bigHeart" id="bigHeart" role="button" aria-label="Surprise">üíñ</div>
  <div class="cake" id="cake" aria-hidden="true">üéÇ</div>

  <!-- butterflies -->
  <div class="butterfly" style="left:5%; top:60%; animation-delay:0s;">ü¶ã</div>
  <div class="butterfly" style="left:75%; top:70%; animation-delay:2s;">ü¶ã</div>
  <div class="butterfly" style="left:40%; top:80%; animation-delay:4s;">ü¶ã</div>
</div>

<!-- GALLERY -->
<div class="gallery" id="gallery">
  <div class="card big" data-src="3.jpg">
    <img src="3.jpg"  alt="Memory 1">
  </div>
  <div class="card" data-src="2.png">
    <img src="2.png" alt="Memory 2">
  </div>
  <div class="card" data-src="1.jpg">
    <img src="1.jpg" alt="Memory 3">
  </div>
  <div class="card" data-src="4.jpg">
    <img src="4.jpg" alt="Memory 4">
  </div>
  <div class="card" data-src="5.jpg">
    <img src="5.jpg" alt="Memory 5">
  </div>
</div>

<!-- MESSAGE HEART -->
<div class="msgHeart" id="msgHeart" role="button" aria-label="Open message">üíå</div>

<!-- MESSAGE CARD -->
<div class="msgCard" id="msgCard" aria-hidden="true">
  <div class="closeMsg" id="closeMsg">‚úñ</div>
  <strong style="font-size:20px;">Dear Divya,</strong><br><br>
  Divya,
I don't know how to put this perfectly, but I'll say it honestly.
You've been a special part of my life ever since class 10 ‚Äî even when we weren't talking, even when life pulled us in different directions.
Our situation may be complicated, and I know we only tried for a short time‚Ä¶ but those moments mattered to me.
And I'm really sorry for the distance I created and for anything that hurt you.
You didn't deserve confusion ‚Äî you deserved clarity and respect.

Today is your birthday, and I truly hope it's filled with peace, happiness, and everything beautiful.
You deserve joy that lasts, moments that make you smile, and people who appreciate you the way you should be appreciated.

No matter where we stand now or where life takes us next, I'll always be grateful that I had you ‚Äî even for a little while.
Happy Birthday, Divya.
Stay blessed, stay happy, and keep shining the way you always do. ‚ú®üéÇüíê
And ab Thank You bol ke paraya mt kiya kr please üòí and din se yhi kaam kr ra hun mai personal.
  <br>
  <b style="font-size:18px;">Happy Birthday, Divya üíñ‚ú®</b><br><br>
  <em>‚Äî With love and apologies</em>
</div>
</div>

<script>
/* ====================
   Lightweight helpers
   ====================*/
const isMobile = /Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile/i.test(navigator.userAgent) || window.innerWidth <= 768;
const stage = document.getElementById('stage');
const bgHearts = document.getElementById('bgHearts');

/* ---- Efficient DOM fragment appender ---- */
function appendOnce(parent, el) { parent.appendChild(el); }

/* ----------------------------
   LIGHTWEIGHT FLOATING HEARTS
   ----------------------------*/
function createFloatingHeart() {
  // keep very small count in DOM
  if (!bgHearts) return;
  const heart = document.createElement('div');
  heart.className = 'floating-heart';
  heart.innerHTML = ['üíï','üíñ','üíó','üíù','üíû'][Math.floor(Math.random()*5)];
  heart.style.left = (Math.random() * 100) + '%';
  heart.style.animationDuration = (8 + Math.random()*6) + 's';
  heart.style.animationDelay = (Math.random() * 4) + 's';
  bgHearts.appendChild(heart);
  // remove earlier to avoid DOM growth
  setTimeout(() => { if (heart && heart.parentNode) heart.parentNode.removeChild(heart); }, 12000);
}

// create small initial amount and low-frequency interval
for (let i=0;i<6;i++) setTimeout(createFloatingHeart, i*700);
let fhInterval = setInterval(createFloatingHeart, isMobile ? 4500 : 2800);

/* ----------------------------
   SPARKLES (VERY SUBTLE)
   ----------------------------*/
function createSparkle(){
  const sparkle = document.createElement('div');
  sparkle.className = 'sparkle';
  sparkle.style.left = (Math.random()*100)+'%';
  sparkle.style.top = (Math.random()*100)+'%';
  sparkle.style.animationDelay = (Math.random()*1.8)+'s';
  document.body.appendChild(sparkle);
  setTimeout(()=>{ if (sparkle.parentNode) sparkle.parentNode.removeChild(sparkle); }, 1800);
}
for(let i=0;i<8;i++) setTimeout(createSparkle, i*180);
let spInterval = setInterval(createSparkle, isMobile ? 2200 : 1000);

/* ------------------------------------------------
   MAGIC SURPRISE: optimized & throttled creation
   ------------------------------------------------*/
const bigHeart = document.getElementById("bigHeart");
const cake = document.getElementById("cake");
let surpriseTriggered = false;

function triggerSurprise() {
  if (surpriseTriggered) return;
  surpriseTriggered = true;

  // shrink & remove bigHeart smoothly
  bigHeart.style.transition = 'transform 600ms cubic-bezier(.2,.9,.2,1), opacity 420ms';
  bigHeart.style.opacity = '0';
  bigHeart.style.transform = 'translate(-50%,-50%) scale(0.0)';
  setTimeout(()=>{ if (bigHeart && bigHeart.parentNode) bigHeart.parentNode.removeChild(bigHeart); }, 650);

  // ring effect (single element)
  const ring = document.createElement("div");
  ring.className = "ring";
  stage.appendChild(ring);
  ring.animate([
    { transform: "translate(-50%,-50%) scale(0)", opacity: 0 },
    { transform: "translate(-50%,-50%) scale(8)", opacity: 0.6 },
    { transform: "translate(-50%,-50%) scale(12)", opacity: 0 }
  ], { duration: 1200, easing: "cubic-bezier(.2,.9,.2,1)" });
  setTimeout(()=>{ try{ ring.remove(); } catch(e){} }, 1400);

  // reveal cake
  setTimeout(()=>{
    cake.style.top="50%";
    cake.style.opacity="1";
    cake.style.transform="translate(-50%,-50%) scale(1)";
  }, 520);

  // create limited balloons (max 18)
  const balloonEmojis = ['üéà','üéà','üéà','üéà','üéà'];
  const maxBalloons = isMobile ? 16 : 22;
  for (let i=0;i<maxBalloons;i++){
    setTimeout(()=>{
      const b = document.createElement("div");
      b.className = "balloon";
      b.innerHTML = balloonEmojis[Math.floor(Math.random()*balloonEmojis.length)];
      b.style.left = (Math.random()*78+8) + "%";
      stage.appendChild(b);
      // remove after animation
      setTimeout(()=>{ if (b.parentNode) b.parentNode.removeChild(b); }, 7800);
    }, i * 140);
  }

  // petals: fewer (max 18)
  const maxPetals = isMobile ? 12 : 18;
  for (let i=0;i<maxPetals;i++){
    setTimeout(()=>{
      const p = document.createElement("div");
      p.className = "petal";
      p.innerHTML = ['üíï','üíñ','üíó','üíù'][Math.floor(Math.random()*4)];
      p.style.left = (Math.random()*85+5)+"%";
      p.style.top = "-12px";
      stage.appendChild(p);
      setTimeout(()=>{ if (p.parentNode) p.parentNode.removeChild(p); }, 7000);
    }, i * 210);
  }

  // confetti: low number (max 40)
  const maxConf = isMobile ? 32 : 40;
  const confColors = ["#ff69b4","#ff1493","#ffc0cb","#ff85c1","#ffb6c1"];
  for (let i=0;i<maxConf;i++){
    setTimeout(()=>{
      const c = document.createElement("div");
      c.className = "confetti";
      c.style.left = (Math.random()*95) + "%";
      c.style.top = "-10px";
      c.style.setProperty('--c', confColors[Math.floor(Math.random()*confColors.length)]);
      stage.appendChild(c);
      setTimeout(()=>{ if (c.parentNode) c.parentNode.removeChild(c); }, 4200);
    }, i * 60);
  }

  // birthday text (single)
  const txt = document.createElement("div");
  txt.style.position="absolute";
  txt.style.top="18%";
  txt.style.left="50%";
  txt.style.transform="translateX(-50%)";
  txt.style.fontSize=isMobile ? "20px":"32px";
  txt.style.fontFamily="'Pacifico',cursive";
  txt.style.color="#ffc4e8";
  txt.style.textShadow="0 0 20px rgba(255,105,180,0.8)";
  txt.innerHTML = "‚ú® Happy Birthday Divya ‚ú®";
  txt.style.opacity="0";
  stage.appendChild(txt);
  setTimeout(()=>{ txt.animate([{opacity:0, transform:"translate(-50%,20px)"},{opacity:1, transform:"translate(-50%,0px)"}],{duration:700, fill:"forwards"}); }, 740);

  // cleanup of any leftover if needed after 9s
  setTimeout(()=>{
    try{
      // remove txt after some time to keep DOM clean
      // optional: keep if you want permanent
    }catch(e){}
  }, 10000);
}

// Touch / click support for bigHeart
if (bigHeart) {
  bigHeart.addEventListener('click', triggerSurprise, {passive:true});
  bigHeart.addEventListener('touchstart', function(e){ e.preventDefault(); triggerSurprise(); }, {passive:false});
}

/* ----------------------------
   GALLERY FULLSCREEN (optimized)
   ----------------------------*/
const fs = document.createElement('div');
fs.id="fs";
fs.innerHTML=`<div class="fsClose" id="fsClose">‚úñ</div><img id="fsImg" alt="Full view">`;
document.body.appendChild(fs);
const fsImg = document.getElementById('fsImg');
const fsClose = document.getElementById('fsClose');

function openFS(src){
  fsImg.src = src;
  fs.style.display = 'flex';
  // prevent background scrolling
  document.documentElement.style.overflow = 'hidden';
  document.body.style.overflow = 'hidden';
}
function closeFS(){
  fs.style.display = 'none';
  document.documentElement.style.overflow = '';
  document.body.style.overflow = '';
  fsImg.src = '';
}
fsClose.addEventListener('click', closeFS, {passive:true});
fsClose.addEventListener('touchstart', function(e){ e.preventDefault(); closeFS(); }, {passive:false});
fs.addEventListener('click', (e)=>{ if (e.target === fs) closeFS(); }, {passive:true});

document.querySelectorAll(".card").forEach(c=>{
  function openHandler(){
    const src = c.dataset.src || c.querySelector('img')?.src;
    if (src) openFS(src);
  }
  c.addEventListener('click', openHandler, {passive:true});
  c.addEventListener('touchstart', function(e){ e.preventDefault(); openHandler(); }, {passive:false});
});

/* ----------------------------
   MESSAGE CARD (open / close)
   ----------------------------*/
const msgHeart = document.getElementById("msgHeart");
const msgCard = document.getElementById("msgCard");
const closeMsg = document.getElementById("closeMsg");

function openMsg(){ msgCard.classList.add('show'); msgCard.setAttribute('aria-hidden','false'); }
function closeMsgFn(){ msgCard.classList.remove('show'); msgCard.setAttribute('aria-hidden','true'); }

msgHeart.addEventListener('click', openMsg, {passive:true});
msgHeart.addEventListener('touchstart', function(e){ e.preventDefault(); openMsg(); }, {passive:false});
closeMsg.addEventListener('click', closeMsgFn, {passive:true});
closeMsg.addEventListener('touchstart', function(e){ e.preventDefault(); closeMsgFn(); }, {passive:false});

/* ----------------------------
   PERFORMANCE SAFEGUARDS
   ----------------------------*/
// If device memory / CPU is low, reduce intervals further
const reduceAggressively = (navigator.deviceMemory && navigator.deviceMemory <= 1) || isMobile;
if (reduceAggressively) {
  clearInterval(fhInterval); fhInterval = setInterval(createFloatingHeart, 7000);
  clearInterval(spInterval); spInterval = setInterval(createSparkle, 3000);
}

/* Cleanup on pagehide to prevent leaks */
window.addEventListener('pagehide', ()=>{
  clearInterval(fhInterval);
  clearInterval(spInterval);
}, {passive:true});

/* make sure layout adjusts on orientation change */
window.addEventListener('orientationchange', ()=> {
  // small: could recalc values if needed
}, {passive:true});
</script>

</body>
</html>